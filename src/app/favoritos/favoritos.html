<div class="main-content" *ngIf="favoritos.length > 0; else sinFavoritos">
  <h3 class="text-white">Equipos Favoritos</h3>


  <input
    type="text"
    class="search-input"
    placeholder="Buscar equipo..."
    [(ngModel)]="searchTerm"
    (input)="filterFavoritos()"
  />

  <table id="datatable_standings" class="table table-striped table-bordered text-white"> 
    <thead>
      <tr>
        <th class="centered">#</th>
        <th class="centered">Equipo</th>
        <th class="centered">Logo</th>
        <th class="centered">Últimos 3 partidos</th>
        <th class="centered">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let equipo of paginatedFavoritos; let i = index">
        <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
        <td class="team-name">{{ equipo.nombreEquipo }}</td>
        <td>
          <img [src]="equipo.logoEquipo" alt="Logo" width="40" />
        </td>
        <td>
  <div *ngIf="equipo.ultimosPartidos; else cargando" class="last-matches">
    <span *ngFor="let match of equipo.ultimosPartidos"
          [ngClass]="{
            'badge-win': getResultado(match, equipo.equipoId) === 'W',
            'badge-loss': getResultado(match, equipo.equipoId) === 'L',
            'badge-draw': getResultado(match, equipo.equipoId) === 'D'
          }">
      {{ getResultado(match, equipo.equipoId) }}
    </span>
  </div>
  <ng-template #cargando>
    <i>Cargando...</i>
  </ng-template>
</td>
        <td>
          <button [routerLink]="['/partido', equipo.equipoId]" class="btn-ver">
  Ver último partido
</button>
          <button class="btn-eliminar" (click)="eliminarFavorito(equipo.id)">
  <i class="fas fa-trash-alt"></i> Eliminar
</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pagination-controls mt-4 d-flex justify-content-center">
    <button
      class="btn btn-light mx-1"
      (click)="changePage(currentPage - 1)"
      [disabled]="currentPage === 1"
    >
      « Anterior
    </button>

    <span class="mx-2 text-white align-self-center">
      Página {{ currentPage }} de {{ totalPages }}
    </span>

    <button
      class="btn btn-light mx-1"
      (click)="changePage(currentPage + 1)"
      [disabled]="currentPage === totalPages"
    >
      Siguiente »
    </button>
  </div>
</div>

<ng-template #sinFavoritos>
  <p class="text-white">No tienes equipos favoritos aún.</p>
</ng-template>
